import { Component, OnInit } from '@angular/core';

import {FormalizacaoService} from '../_services/formalizacao.service';
import { Subject } from 'rxjs';

@Component({
  selector: 'app-formalizacao',
  templateUrl: './formalizacao.component.html',
  styleUrls: ['./formalizacao.component.css']
})
export class FormalizacaoComponent implements OnInit {

  adesoes: any[];
  cols: any[];
  display: boolean = false;
  url: string ='https://cacovsky.files.wordpress.com/2011/01/captcha.png?w=584';
  

  constructor(private formalizacaoService: FormalizacaoService) { }

  ngOnInit() {    
    this.display = true;
    this.cols=[
                       { field: 'number', header: 'Número' },
                       { field: 'status', header: 'Status' },                       
                       { field: 'cpf', header: 'CPF' },
                       { field: 'nome', header: 'Cliente' },
                       { field: 'matricula', header: 'Matrícula' },
                       { field: 'data_proposta', header: 'Data Proposta' },
                       { field: 'servico', header: 'Serviço' },
                       { field: 'loja', header: 'Loja' },
                       { field: 'entidade', header: 'Entidade' },
                       { field: 'valor', header: 'Valor' },
                       { field: 'resp_bmg', header: 'Resposta BMG' },
                       { field: 'resp_corban', header: 'Resposta Corban' },
                       { field: 'consultor', header: 'Consultor' },
                       { field: 'limite_cartao', header: 'Limite Cartão' },
                       { field: 'status_cartao', header: 'Status Cartão' },
                       { field: 'error', header: 'error' },
                       { field: 'created_at', header: 'Data Criação'},
                       { field: 'updated_at', header: 'Data Atualização'}
    ];


    this.formalizacaoService.searchAdesao().pipe().subscribe(
       data =>{
         console.log(data);
         this.adesoes = data;               
       },
        error => {
        console.log('Error ao buscar adesões');
      }

     );   
     
     /*  this.formalizacaoService.searchCaptcha().subscribe(
      data =>{
        console.log(data); 
              
      },
       error => {
       console.log('Error ao buscar imagem');
     }

    ); 
  this.adesoes = [{number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico: "cartao adesao", loja: 1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum",
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"},
    {number:123 ,status:"em processo", client: "lidia" , cpf: 78734983287, matricula:123456,
    data_proposta:"2020-02-16", servico:"cartao adesao", loja:1020, entidade: 234,
    valor: 12000,
    resp_bmg: 34,
    resp_corban: 234,
    consultor: "fulqana",
    limite_cartao: 4000 ,
    status_cartao: "aprvovado",
    error:"nenhum" ,
    created_at: "2020-02-16",
    updated_at: "2020-02-16"}]*/

    
  }

  ngOnDestroy(){
    
  }
  

 
  }

 


